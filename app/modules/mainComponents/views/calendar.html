<div style="padding: 5px; overflow: auto">
    <table class="sorttable table table-hover table-striped table-responsive table-condensed table-bordered header-fixed">
        <thead>
        <tr>
            <th>Ωρα</th>
            <th ng-repeat="day in headerDays track by $index" ng-init="headerDaysIndex = $index">
                {{day.toLocaleDateString('el-GR',{ weekday: 'short',
                year:'numeric', month: 'short', day: 'numeric' })}}
            </th>
        <tbody>
        <tr
                style="cursor: pointer">
            <td>
                <div ng-repeat="hour in hours track by $index" ng-init="hoursIndex = $index"
                     style="top: {{$index*20}}px; height: 20px">{{hour.ht}}
                </div>
            </td>
            <td ng-repeat="day in headerDays track by $index" ng-init="tdDaysIndex = $index">
                <div style="position: relative;top: 0px;" ng-click="selectDay(day)">
                    <div ng-repeat="hour in hours"
                         style="border-bottom: 1px solid #eeeeee; width:100%;height: 20px;display: block;background-color: #cac{{(hour.i%6*2).toString(16)}}c{{(day.getDay()).toString(16)}}"
                         data-toggle="popover"
                         data-content="{{day.toLocaleDateString({weekday: 'short', year: 'numeric', month: 'short', day: 'numeric'})}} - {{hour.ht}}"
                         data-trigger="hover">&nbsp;{{}}
                    </div>
                </div>
                <!--<ul ng-repeat="(key, value) in calendar[$index] | groupBy: 'name'">
                    Αίθουσα : {{ key }}
                    <li ng-repeat="book in value">
                        book : {{ book.name }}
                    </li>
                </ul>-->
                <div style="display: flex; position: relative; top: -340px;" id="calendarPlot">
                    <!--{{$index}}-->
                    <!--<div>{{newCalendar[]}}</div>-->
                    <!--{{calendar[$index]}}-->
                    <div ng-repeat="(key, room) in newCalendar[tdDaysIndex] track by $index"
                         ng-init="newCalendarIndex = $index" class="info"
                         style="display: flex;position: relative;height:340px;width: 100px ; padding-left:5px;padding-right:5px; border: 1px solid #ababab; box-shadow: 2px 2px 6px #ababab ">
                        <div style="margin: 2px; top: 340px; height: 60px; width: 100%;
                             position: absolute; font-size: smaller;
                             background-color: #F1F1F1; text-align: left; border: 1px solid #ababab; box-shadow: 2px 2px 6px #ababab">
                            {{key}}
                        </div>
                        <div ng-repeat="book in room track by $index" ng-init="roomIndex = $index" class="info"
                             id="{{book.did}}"
                             style="margin: 2px; top: {{book.dist}}px; height: {{book.h}}px; min-width:80px; width: 90px;
                             position: absolute; font-size: smaller;
                             background-color: {{book.color}}; text-align: left; border: 1px solid #ababab; box-shadow: 2px 2px 6px #ababab"
                             data-toggle="popover"
                             data-content="{{book.book.ps.tma_per}} {{book.book.ps.teacher}} {{book.pivot.fromt}}-{{book.pivot.tot}}"
                             data-trigger="hover"
                             ng-click="popup(book.pivot.id)">
                            {{book.book.ps.tma_code}}
                        </div>
                    </div>
                </div>
            </td>
        </tr>
        </tbody>
    </table>
</div>
