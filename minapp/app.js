"use strict";angular.module("Home",[]),angular.module("Admin",[]),angular.module("Authentication",[]),angular.module("DB",[]),angular.module("Roles",[]),angular.module("Users",[]),angular.module("Rooms",[]),angular.module("Tms",[]),angular.module("Kat",[]),angular.module("Requests",[]),angular.module("MainComponents",[]),angular.module("ApiModules",[]),angular.module("UsersCategories",[]),angular.module("Config",[]),angular.module("Ps",[]),angular.module("Periods",[]),angular.module("Items",[]),angular.module("ItemType",[]),angular.module("RoomCategory",[]),angular.module("RoomUse",[]),angular.module("RoomBook",[]),angular.module("PsStats",[]),angular.module("clrBooking",["pascalprecht.translate","Admin","Home","ngRoute","ngCookies","Login","DB","angular-jwt","angular-storage","Roles","Users","Rooms","Tms","Kat","Requests","MainComponents","ApiModules","UsersCategories","Config","Ps","Periods","Items","ItemType","RoomCategory","RoomUse","PsStats","GlobalVarsSrvs","Authentication","RoomBook"]).config(function(e){e.html5Mode(!1),e.hashPrefix("")}).config(["$locationProvider","$routeProvider","$httpProvider","jwtOptionsProvider","jwtInterceptorProvider","$translateProvider",function(e,t,o,l,r,s){s.useStaticFilesLoader({prefix:"/config/",suffix:".json"}).useSanitizeValueStrategy(null).useMissingTranslationHandler(),t.when("/",{title:"Αιθουσολόγιο - Διαχείριση",controller:"HomeController",templateUrl:"modules/home/views/home.html"}).when("/admin",{title:"Αρχική",controller:"HomeController",templateUrl:"modules/home/views/home.html"}).when("/login",{title:"Είσοδος",controller:"LoginController",templateUrl:"modules/login/views/login.html"}).when("/home",{title:"Αρχική",controller:"HomeController",templateUrl:"modules/home/views/home.html"}).when("/config",{title:"Config",controller:"ConfigController",templateUrl:"modules/config/confviews/configs.html"}).when("/config/create",{title:"Δημιουργία configuration",template:"<config-profile></config-profile>"}).when("/config/:id",{title:"Επεξεργασία configuration",template:"<config-profile></config-profile>"}).when("/config/:id/ps",{title:"Πρόγραμμα σπουδών ",controller:"ConfigPsController",templateUrl:"modules/ps/psviews/ps.html"}).when("/items",{title:"Εξοπλισμός",controller:"ItemsController",templateUrl:"modules/items/itemviews/items.html"}).when("/items/create",{title:"Δημιουργία Εξοπλισμου",template:"<items-profile></items-profile>"}).when("/items/:id",{title:"Επεξεργασία Εξοπλισμού",template:"<items-profile></items-profile>"}).when("/items/:id/rooms",{title:"Εξοπλισμός - Αίθουσες",controller:"ItemsRoomsController",templateUrl:"modules/items/itemviews/rooms/ItemRoom.html"}).when("/itemtype",{title:"Τύπος-είδος εξοπλισμού",controller:"ItemTypeController",templateUrl:"modules/items/itemviews/items.html"}).when("/itemtype/create",{title:"Δημιουργία τύπου-είδους εξοπλισμού",template:"<itemtype-profile></itemtype-profile>"}).when("/itemtype/:id",{title:"Επεξεργασία τύπου-είδους εξοπλισμού",template:"<itemtype-profile></itemtype-profile>"}).when("/periods",{title:"Ακαδημαϊκή Περίοδος",controller:"PeriodsController",templateUrl:"modules/periods/periodviews/periods.html"}).when("/periods/create",{title:"Δημιουργία ακαδημαϊκής περιόδου",template:"<period-profile></period-profile>"}).when("/periods/:id",{title:"Επεξεργασία ακαδημαϊκής περιόδου",template:"<period-profile></period-profile>"}).when("/ps",{title:"Πρόγραμμα Σπουδών",controller:"PsController",templateUrl:"modules/ps/psviews/ps.html"}).when("/ps/conf/:cid/create",{title:"Δημιουργία προγράμματος σπουδών",template:"<ps-profile></ps-profile>"}).when("/ps/:id",{title:"Επεξεργασία προγράμματος σπουδών",template:"<ps-profile></ps-profile>"}).when("/ps/:id/teachers",{title:"Πρόγραμμα Σπουδών - Καθηγητές",controller:"TeachersController",templateUrl:"modules/ps/teachers/TeachersPs.html"}).when("/requests",{title:"Αιτήματα",controller:"RequestsController",templateUrl:"modules/requests/reqviews/requests.html"}).when("/requests/config/:cid/create",{title:"Δημιουργία αιτήματος",template:"<requests-profile></requests-profile>"}).when("/requests/:id",{title:"Επεξεργασία αιτήματος",template:"<requests-profile></requests-profile>"}).when("/requests/:id/rooms",{title:"Αίτημα - Αίθουσα",controller:"RequestsRoomsController",templateUrl:"modules/requests/reqviews/rooms/mainn2n.html"}).when("/requests/:id/guests",{title:"Αίτημα - Συμμετέχων Τηλεδιάσκεψης",controller:"ReqGuestsController",templateUrl:"modules/requests/reqviews/requests_guests/requestsguestsviews/requestsguests.html"}).when("/requests/:rid/guests/create",{title:"Αίτημα - Δημιουργία Συμμετέχων Τηλεδιάσκεψης",template:"<req-guests-profile></req-guests-profile>"}).when("/requests/:rid/guests/:id",{title:"Αίτημα - Επεξεργασία Συμμετέχων Τηλεδιάσκεψης",template:"<req-guests-profile></req-guests-profile>"}).when("/roles",{title:"Ρόλοι",controller:"RolesController",templateUrl:"modules/roles/views/roles.html"}).when("/roles/create",{title:"Δημιουργία ρόλου",template:"<roles-profile></roles-profile>"}).when("/roles/:id",{title:"Επεξεργασία ρόλου",template:"<roles-profile></roles-profile>"}).when("/roles/:id/users",{title:"Ρόλος - Χρήστης",controller:"RolesUserController",templateUrl:"modules/roles/views/rolesusers.html"}).when("/roomcategory",{title:"Κατηγορίες Αίθουσών",controller:"RoomCategoryController",templateUrl:"modules/roomCategory/rcviews/rcategories.html"}).when("/roomcategory/create",{title:"Δημιουργία κατηγορίας αίθουσας",template:"<room-category-profile></room-category-profile>"}).when("/roomcategory/:id",{title:"Επεξεργασία κατηγορίας αίθουσας",template:"<room-category-profile></room-category-profile>"}).when("/roomuse",{title:"Χρήσεις Αιθουσών",controller:"RoomUseController",templateUrl:"modules/roomUse/ruseviews/roomuse.html"}).when("/roomuse/create",{title:"Δημιουργία χρήσης αίθουσας",template:"<room-use-profile></room-use-profile>"}).when("/roomuse/:id",{title:"Επεξεργασία χρήσης αίθουσας",template:"<room-use-profile></room-use-profile>"}).when("/rooms",{title:"Αίθουσες",controller:"RoomsController",templateUrl:"modules/rooms/rviews/rooms.html"}).when("/rooms/create",{title:"Δημιουργία αίθουσας",template:"<room-profile></room-profile>"}).when("/rooms/:id",{title:"Επεξεργασία αίθουσας",template:"<room-profile></room-profile>"}).when("/rooms/:id/roomuse",{title:"Αίθουσα - Χρήσεις Αίθουσας",controller:"RoomsUsagesController",templateUrl:"modules/rooms/rviews/UCroom.html"}).when("/rooms/:id/items",{title:"Αίθουσα - Εξοπλισμός",controller:"RoomsItemsController",templateUrl:"modules/rooms/rviews/items/ItemRoom.html"}).when("/rooms/:id/tms",{title:"Αίθουσα - Τμήμα",controller:"RoomsTmsController",templateUrl:"modules/rooms/rviews/tms/TmsRoom.html"}).when("/rooms/:id/requests",{title:"Αίθουσα - Αίτήματα",controller:"RoomRequestsController",templateUrl:"modules/requests/reqviews/requests.html"}).when("/rooms/:rid/requests/create",{title:"Αίθουσα - Δημιουργία Αίτήματος",template:"<req-rooms-profile></req-rooms-profile>"}).when("/rooms/:rid/requests/:id",{title:"Αίθουσα - Επεξεργασία Αίτήματος",template:"<req-rooms-profile></req-rooms-profile>"}).when("/tms",{title:"Τμήματα",controller:"TmsController",templateUrl:"modules/tm/tmviews/tms.html"}).when("/tm/create",{title:"Δημιουργία τμήματος",template:"<tm-profile></tm-profile>"}).when("/tms/:id",{title:"Επεξεργασία τμήματος",template:"<tm-profile></tm-profile>"}).when("/userscategories",{title:"Κατηγοριές Χρηστών",controller:"UsersCategoriesController",templateUrl:"modules/usersCategories/ucviews/ucategories.html"}).when("/userscategories/create",{title:"Δημιουργία κατηγορίας χρήστη",template:"<users-categories-profile></users-categories-profile>"}).when("/userscategories/:id",{title:"Επεξεργασία κατηγορίας χρήστη",template:"<users-categories-profile></users-categories-profile>"}).when("/userscategories/:id/users",{title:"Κατηγορία χρήστη - Χρήστης",controller:"UcategoriesUsersController",templateUrl:"modules/users/uviews/users.html"}).when("/users",{title:"Χρήστες",controller:"UsersController",templateUrl:"modules/users/uviews/users.html"}).when("/users/create",{title:"Δημιουργία χρήστη",template:"<users-profile></users-profile>"}).when("/users/:id",{title:"Επεξεργασία χρήστη",template:"<users-profile></users-profile>"}).when("/users/:id/requests",{title:"Χρήστης - Αιτήματα",controller:"URequestsController",templateUrl:"modules/requests/reqviews/requests.html"}).when("/users/:id/roles",{title:"Χρήστης - Ρόλοι",controller:"URolesController",templateUrl:"modules/users/uviews/urole.html"}).when("/users/:id/tms",{title:"Χρήστης - Τμήματα",controller:"UsersTmsController",templateUrl:"modules/users/utms/userTms.html"}).when("/users/:id/rooms",{title:"Χρήστης - Αίθουσα",controller:"UsersRoomsController",templateUrl:"modules/users/rooms/ItemRoom.html"}).when("/roombook",{title:"Διαθεσιμότητα",controller:"BookController",templateUrl:"modules/bookview/bookView.html"}).when("/roombook/dates",{title:"Διαθεσιμότητα",controller:"BookController",templateUrl:"modules/bookview/bookView.html"}).when("/usercreaterequests",{title:"Αίτημα Δέσμευσης",controller:"CreateFormController",templateUrl:"modules/requests/createUserRequest/createForm.html"}).when("/usercreaterequests/:id",{title:"Επεξεργασία Αιτήματος Δέσμευσης",controller:"CreateFormController",templateUrl:"modules/requests/createUserRequest/createForm.html"}).when("/dashboard",{title:"Πίνακας Ελέγχου",controller:"UserViewController",templateUrl:"modules/userView/userHome/uhome.html"}).when("/utilities",{title:"Αντιγραφή Περιόδου",controller:"UtilitiesController",templateUrl:"modules/adminUtilities/copyPeriod.html"}).when("/checkpending",{title:"Διαγραφή Ληγμένων",controller:"UtilitiesController",templateUrl:"modules/adminUtilities/copyPeriod.html"}).when("/holidayhold",{title:"Ορισμός Αργιών",controller:"UtilitiesController",templateUrl:"modules/adminUtilities/setHoliday.html"}).otherwise({redirectTo:"/login"});l.config({tokenGetter:["options","store","jwtHelper","$http","$rootScope","$location",function(e,t,o,l,r,s){if(!i)var i=null;if(".html"==e.url.substr(e.url.length-5))return null;if(e.url.indexOf("refresh-token")>-1)return null;if(i)return i;var m=t.get("jwt")&&"undefined"!=t.get("jwt").token?t.get("jwt").token:null,n=t.get("rwt")&&"undefined"!=t.get("rwt").token?t.get("rwt").token:null;return m&&o.isTokenExpired(m)?!n||n&&o.isTokenExpired(n)?(n&&t.remove("rwt"),m&&t.remove("jwt"),r.errorString="Δεν υπάρχει ενεργό login στην Υπηρεσία! Προσπαθήστε ΞΑΝΑ!",r.globals={item:null},s.path("/login"),null):i=l({url:"http://localhost/panteion/api/public/refresh-token",headers:{Authorization:"Bearer "+n},method:"POST",data:{refreshToken:n}}).then(function(e){var o=e.data;return t.set("jwt",o),i=null,o.token},function(e){s.path("/login")}):m}]}),o.interceptors.push("jwtInterceptor")}]).controller("Controller",["$scope","jwtHelper","store","globalVarsSrv","$window","AuthenticationService","$translate",function(e,t,o,l,r,s,i){e.close=function(){l.cookieSave()},console.log("in App ctrl")}]).run(["$rootScope","$location","$http","globalVarsSrv","AuthenticationService","$route","ClrStatusSrv","$translate",function(e,t,o,l,r,s,i,m){var n=null;(n=r.CheckCredentials())&&l.appInit("appConfig",n),e.$on("$routeChangeSuccess",function(){document.title=m.instant(s.current.title)}),console.log("in App Run"),i.getStatus("roomStatus")}]);