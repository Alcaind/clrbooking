angular.module("Rooms").controller("RoomRequestsController",["$scope","AuthenticationService","makeController","$routeParams","api","globalVarsSrv",function(t,r,o,e,l,a){var i={};t.fromd="2018-04-04T00:00:00",t.tod="2018-05-04T00:00:00",t.fromAnotherPage=!0,l.apiCall("GET",a.getGlobalVar("appUrl")+"/rooms/"+e.id,function(r){i=r.data,t.calendar=[],t.ctrl=o.mainController("/requests/rooms/"+e.id,"requestsTableConf","Κατοχυρωμένα αιτήματα στην αίθουσα "+i.name),t.ctrl.init(),t.statusOptions=a.getGlobalVar("requestStatus"),t.THLbutton=function(r){t.ctrl.operations[2].ifVisible=!0,7!==r.class_use&&(t.ctrl.operations[2].ifVisible=!1)},t.$watch("ctrl.dp",function(){for(var r=0;r<t.ctrl.dp.length;r++){new Date(t.ctrl.dp[r].fromd+"T"+t.ctrl.dp[r].pivot.fromt)}})})}]).controller("RoomRequestsProfileController",["$scope","AuthenticationService","makeController","globalVarsSrv","$routeParams","api",function(t,r,o,e,l,a){t.ctrl=o.profileController("/rooms/requests","reqguestsTableConf"),t.ctrl.init(),t.ctrl.item.room_id=l.rid,t.statusOptions=e.getGlobalVar("requestStatus"),t.admin=[],a.apiCall("GET","api/public/users",function(r){for(var o=0;o<r.data.length;o++)9===r.data[o].cat_id&&t.admin.push(r.data[o])}),t.getAdmin=function(r){for(var o=0;o<t.admin.length;o++)if(t.admin[o].id===r)return t.admin[o].user}}]).component("reqRoomsProfile",{restrict:"EA",templateUrl:"modules/requests/reqviews/profile.html",scope:{method:"="},controller:"RoomRequestsProfileController"});